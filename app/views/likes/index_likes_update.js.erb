<% @post = Post.find(params[:id]) %>

<% index_like_exists = Like.where(post_id: @post.id, user_id: current_user.id) == [] ? "Like" : "Unlike" %>

document.getElementById("post_index_<%= @post.id %>").textContent = "<%= index_like_exists %>";

<% index_like_count = @post.likes.count %>

document.getElementById("index_like_count<%= @post.id %>").textContent = "<%= index_like_count %>";